<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>jQuery OData Testing Ground v2</title>
    <script src="script/jquery-1.4.2.js" type="text/javascript"></script>
    <script src="script/jquery.odata-0.2.js" type="text/javascript"></script>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript">
        $(document).ready(function () {
            // Build OData query  
            var query = "http://odata.netflix.com/Catalog" // netflix base url  
                + "/Titles" // top-level resource  
                + "?$filter=substringof('Black',Name)"  // filter by movie name  
                + "&$callbackcallback=callback" // jsonp request  
                + "&$format=json"; // json request  

            query = "http://odata.netflix.com/Catalog/Titles?$format=json";
            query = "http://odata.netflix.com/Catalog/Titles/$count?$callback=callback&$format=json";
            query = "http://odata.netflix.com/Catalog/Titles/$count";

                        $.odata("http://odata.netflix.com", { dataType: 'jsonp' })
                                        .from('Catalog/Titles')
                                        .query(function (res) {
                                            console.log(res);
                                        });


//            // Make JSONP call to Netflix  
//            $.ajax({
//                dataType: "jsonp",
//                url: query,
//                jsonpCallback: "callback",
//                success: callback,
//                complete: function (a, b, c) {
//                    console.log('comp');
//                },
//                error: function (a, b, c) {
//                    console.log('err');
//                }
//            });

//            function callback(res) {
//                console.log(res);
//            };

        });

    </script>
</head>
<body>
</body>
</html>
